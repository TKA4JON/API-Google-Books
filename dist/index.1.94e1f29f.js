(()=>{"use strict";var e={821:(e,t,o)=>{e.exports=o.p+"3af71d5debbe71243269.png"}},t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.p="/",(()=>{const e=[o(821),o.p+"a75b3eeadb7ce81f4d96.png",o.p+"6bf797acc3787a7e5a07.png"],t=new class{constructor(){this.sliderIndex=0,this.sliderPosition=document.querySelector(".banner-elem"),this.sliderButtonPosition=document.querySelectorAll(".bunner__buttons-element")}sliderFunc(){console.log("banner_"+Number(this.sliderIndex+1)),console.log(typeof("banner_"+this.sliderIndex+1)),this.sliderPosition.src=e[this.sliderIndex],this.sliderButtonPosition.forEach((e=>{e.style.backgroundColor="#EFEEF6"})),this.sliderButtonPosition[this.sliderIndex].style.backgroundColor="#9E98DC",2==this.sliderIndex?this.sliderIndex=0:this.sliderIndex++}sliderButton(){for(let e=0;e<this.sliderButtonPosition.length;e++)this.sliderButtonPosition[e].addEventListener("click",(()=>{this.sliderIndex=e,this.sliderFunc()}))}},s=new class{constructor(){this.APIKEY="AIzaSyAAsp0KAxhayeBQy7wvupWzW44xhsnVaxE",this.URL=`https://www.googleapis.com/books/v1/volumes?key=${this.APIKEY}&printType=books&maxResults=6&langRestrict=en`,this.fullURL="",this.booksPosition=document.querySelector(".booksShowArea"),this.inTheCartIndexPosition=document.querySelector(".header__inTheCartIndex"),this.MainBooksArray=[],this.__subject="Architecture",this.__startIndex=0,this.inTheCartIndex=localStorage.length||0,this.inTheCartIndexPosition.textContent=this.inTheCartIndex,this.getCategorFunc(this.__subject)}getCategorFunc(e=null){null!==e?(this.booksPosition.replaceChildren(),this.MainBooksArray.splice(0),document.querySelector('.categories__element_ring[data-category="'+this.__subject+'"]').style.backgroundColor="#EFEEF6",document.querySelector('.categories__element[data-category="'+this.__subject+'"]').classList.remove("categories__element_active"),document.querySelector('.categories__element_ring[data-category="'+e+'"]').style.backgroundColor="#756AD3",document.querySelector('.categories__element[data-category="'+e+'"]').classList.add("categories__element_active"),this.__subject=e,this.__startIndex=0):this.__startIndex+=6,this.fullURL=this.URL+`&q=subject:${this.__subject}&startIndex=${this.__startIndex}`,this.booksRequest()}booksRequest(){fetch(this.fullURL).then((e=>e.json())).then((e=>{for(let t=0;t<e.items.length;t++){let o={cat:e.items[t].volumeInfo.categories?.join(", ")||"not catecories",id:e.items[t].id||"not id",cover:null==e.items[t].volumeInfo.imageLinks?.thumbnail?"./img/no_image.png":e.items[t].volumeInfo.imageLinks.thumbnail,specTitle:e.items[t].volumeInfo.title?.length>60?e.items[t].volumeInfo.title.slice(0,60)+"...":e.items[t].volumeInfo.title,specAuthor:e.items[t].volumeInfo.authors?.join(", ")||"not author",specDescript:e.items[t].volumeInfo.description?.length>90?e.items[t].volumeInfo.description.slice(0,90)+"...":e.items[t].volumeInfo.description,specPrice:"NOT_FOR_SALE"==e.items[t].saleInfo.saleability||null==e.items[t].saleInfo.retailPrice?"Not for sale":e.items[t].saleInfo.retailPrice?.currencyCode+" "+e.items[t].saleInfo.retailPrice?.amount};this.MainBooksArray.push(o)}this.setBooksCollection(!1)})).catch((e=>{console.log("JSON Error:"+e)}))}getBooksFromCartFunc(){this.booksPosition.replaceChildren(),this.MainBooksArray.splice(0),this.__startIndex=0;for(let e=0;e<localStorage.length;e++)this.MainBooksArray.push(JSON.parse(localStorage.getItem(localStorage.key(e))));this.setBooksCollection(!0)}setBooksCollection(e){for(let t=this.__startIndex;t<this.MainBooksArray.length;t++){let o=document.createElement("div");o.classList.add("booksShowArea__element");let s=document.createElement("img");s.classList.add("booksShowArea__element-cover"),s.src=this.MainBooksArray[t].cover,s.setAttribute("alt",this.MainBooksArray[t].cover),o.appendChild(s);let i=document.createElement("div");i.classList.add("booksShowArea__element-descript");let n=document.createElement("div");n.classList.add("booksShowArea__element-specAuthor"),n.textContent=this.MainBooksArray[t].cat,i.appendChild(n);let r=document.createElement("div");r.classList.add("booksShowArea__element-specAuthor"),r.textContent=this.MainBooksArray[t].specAuthor,i.appendChild(r);let a=document.createElement("div");a.classList.add("booksShowArea__element-specTitle"),a.textContent=this.MainBooksArray[t].specTitle,i.appendChild(a);let l=document.createElement("div");l.classList.add("booksShowArea__element-specRaiting");let c=document.createElement("div");c.classList.add("booksShowArea__element-specRaiting_stars"),c.textContent=this.MainBooksArray[t].specRaiting_stars,l.appendChild(c);let d=document.createElement("div");d.classList.add("booksShowArea__element-specRaiting_review"),d.textContent=this.MainBooksArray[t].specRaiting_review,l.appendChild(d),i.appendChild(l);let h=document.createElement("div");h.classList.add("booksShowArea__element-specDescript"),h.textContent=this.MainBooksArray[t].specDescript,i.appendChild(h);let u=document.createElement("div");u.classList.add("booksShowArea__element-specPrice"),u.textContent=this.MainBooksArray[t].specPrice,i.appendChild(u);let m=document.createElement("button");e?(m.textContent="IN THE CART",m.className="button buttonInTheCart"):(m.textContent="BUY NOW",m.className="button"),m.addEventListener("click",(()=>{m.classList.contains("buttonInTheCart")?(m.textContent="BUY NOW",m.className="button",this.inTheCartIndex-=1,this.inTheCartIndexPosition.textContent=this.inTheCartIndex,localStorage.removeItem(this.MainBooksArray[t].id)):(m.textContent="IN THE CART",m.className="button buttonInTheCart",this.inTheCartIndex+=1,this.inTheCartIndexPosition.textContent=this.inTheCartIndex,localStorage.setItem(this.MainBooksArray[t].id,JSON.stringify(this.MainBooksArray[t])))})),i.appendChild(m),o.appendChild(i),this.booksPosition.appendChild(o)}if(!e){let e=document.createElement("button");e.className="button buttonLoadMore",e.textContent="LOAD MORE",this.booksPosition.appendChild(e),e.addEventListener("click",(()=>{document.querySelector(".buttonLoadMore").remove(),this.getCategorFunc()}))}}};document.querySelectorAll(".categories__element").forEach((e=>{e.addEventListener("click",(()=>{s.getCategorFunc(e.dataset.category)}))})),document.querySelector(".header__icon-element-cart").addEventListener("click",(()=>{s.getBooksFromCartFunc()}));let i=0;t.sliderButton(),i=setInterval((()=>{t.sliderFunc(i)}),5e3)})()})();